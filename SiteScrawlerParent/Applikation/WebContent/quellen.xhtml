<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui"> 
<h:body>
	<ui:composition template="/template.xhtml">
		<ui:define name="content">
		
			<!-- Quellenliste -->
			<div class="col-md-3 hidden-xs hidden-sm column">
				<!-- Filter -->
				<div class="panel panel-default artikelPanel">
					<div class="panel-heading">
						<div class="pull-left schrift">
							<h4>Quellen</h4>
						</div>

						<b:form>
							<p:commandLink id="quelle-erstellen" action="#{quellen.starteQuellenErstellen()}" update="gewaehlte-quelle-form gewaehlte-quelle">  
								<p:graphicImage value="/resources/image/add.svg"
									class="pull-right bild" />
							</p:commandLink>
						</b:form>
						<div class="clearfix"></div>
					 
					</div>
					<div class="panel-body quellen-filter">
						<h:form>
							<h4>Suche</h4> 
							<p:inputText placeholder="Name"></p:inputText>
						</h:form>
					</div> 
					<p:dataList class="list-group quellen"
						id="alle-quellen"
						value="#{quellen.quellen}" var="quelle"
						type="definition">
						<h:form>
							<p:commandLink class="list-group-item" id="ajax"
								update="gewaehlte-quelle-form" 
								value="#{quelle.name}" 
								action="#{quellen.gewaehlteQuelle(quelle)}"> 
							</p:commandLink>
						</h:form>
					</p:dataList>
				</div>
			</div>

			<!-- Ausgewaehltes Archiv -->

			<b:modal id="artikel-modal" title="#{archiv.geweahlterArtikel.titel}"
				styleClass="modalPseudoClass">
				<div id="artikel-inhalt">
					<p:repeat value="#{archiv.geweahlterArtikel.absaetzeArtikel}"
						var="absatz">
						<p>#{absatz}"</p>
					</p:repeat>
				</div>
			</b:modal>

			<div class="col-md-9 column">
				<!-- Archiv -->
				<p:panel id="gewaehlte-quelle">
					<h:form class="panel panel-default artikelPanel" id="gewaehlte-quelle-form"  rendered="#{quellen.zeigeQuelleAn()}">
						<div class="panel-heading">
							<h3 class="panel-title pull-left linkeUeberschrift">
								Quelle: 
								<p:inputText value="#{quellen.gewaehlteQuelle.name}">
									<p:ajax event="keyup" update="gewaehlte-quelle-form:bearbeiten-buttons"/>
								</p:inputText>
							</h3>
							<p:panel class="btn-group pull-right" role="group" id="bearbeiten-buttons">
								 
									<!-- Löschen button -->
									<b:commandButton rendered="#{quellen.zeigeLoeschButton()}" 
									action="#{quellen.loescheQuelle()}" 
									update="@form gewaehlte-quelle alle-quellen"
									value="Löschen" type="button" class="btn btn-default"/>
								 
									<!-- Erstellen button -->
									<b:commandButton rendered="#{quellen.zeigeErstellenButton()}" 
									action="#{quellen.uebernehmeNeueQuelle()}" 
									update="@form alle-quellen"
									value="Erstellen" type="button" class="btn btn-default"/>
								 
									<!-- Speichern button -->
									<b:commandButton rendered="#{quellen.zeigeSpeichernButton()}" 
									action="#{quellen.uebernehmeNeueQuelle()}" 
									update="@form gewaehlte-quelle"
									value="Speichern" type="button" class="btn btn-default"/>
								 
									<!-- Verwerfen button -->
									<b:commandButton rendered="#{quellen.zeigeVerwerfenButton()}" 
									action="#{quellen.verwerfeErstellteQuelle()}" 
									update="@form gewaehlte-quelle"
									value="Verwerfen" type="button" class="btn btn-default"/>
								
							</p:panel>
							<div class="clearfix"></div>
						</div> 
						<div class="panel-body">
							<!-- Quelle präsentation -->
							<h4>RSS Url</h4>
							<p:inputText  id="name-feld" class="fill-width" label="RSS URL" value="#{quellen.gewaehlteQuelle.rsslink}">
								<p:ajax event="keyup" update="gewaehlte-quelle-form:bearbeiten-buttons"/>
							</p:inputText>
							 
							<h4>Inhalt Id oder Klasse</h4>
							<p>Hier kann die Id oder Klasse des Elementes angegeben werden, welches den Inhalt umschließt.</p>
							<p:inputText id="klasse-id-feld" class="fill-width" label="RSS URL" value="#{quellen.gewaehlteQuelle.tagOderId}">
								
							</p:inputText>
						</div>
					</h:form>
				</p:panel>
			</div> 
		</ui:define> 
	</ui:composition>
</h:body>
</html>
